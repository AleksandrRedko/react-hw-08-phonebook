"use strict";(self.webpackChunkreact_hw_08_phonebook=self.webpackChunkreact_hw_08_phonebook||[]).push([[650],{6650:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(9439),a=n(9434),s=n(2791),i=n(7425),o={button:"Contacts_button__L+4X8",container:"Contacts_container__wv55k"},c=n(4165),u=n(5861),l=n(4942),d=n(1413),m=n(5264),p=n(3634),h=function(e){return e.contacts},f=function(e){return e.filter},v={form:"Form_form__m0h+p",input:"Form_input__aJO77",button:"Form_button__8F+J3"},x=n(3329);function b(e){var t=e.setActive,n=(0,a.I0)(),i=(0,a.v9)(h).items,o={name:"",number:""},f=(0,s.useState)(o),b=(0,r.Z)(f,2),_=b[0],j=b[1],C=function(e){var t=e.target,n=t.name,r=t.value;j((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,l.Z)({},n,r))}))},g=function(e){return i.some((function(t){return t.name===e}))},y=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!g(_.name)){e.next=6;break}return m.Notify.info("such contact already exists",{position:"center-top"}),j(o),t(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,n((0,p.uK)(_)).unwrap();case 9:m.Notify.success("new contact added",{position:"center-top"}),j(o),t(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),m.Notify.failure("something went wrong...",{position:"center-top"});case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{onSubmit:y,className:v.form,children:[(0,x.jsx)("label",{children:(0,x.jsx)("input",{className:v.input,placeholder:"Name",type:"text",name:"name",value:_.name,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:C})}),(0,x.jsx)("label",{children:(0,x.jsx)("input",{className:v.input,placeholder:"Number",type:"tel",name:"number",value:_.number,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:C})}),(0,x.jsx)("button",{className:v.button,children:"add contact"})]})}var _=n(6355),j=n(6856),C="Contact_item__ksxu7",g="Contact_button__bOLoR",y="Contact_buttonEdite__2KaYX";var N=function(e){var t=e.id,n=e.name,r=e.number,a=e.fnDelete,s=e.handleEditContact;return(0,x.jsxs)("li",{className:C,children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:n}),": ",r]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{className:y,onClick:function(){return s({id:t,name:n,number:r})},children:(0,x.jsx)(_.dfI,{color:"white"})}),(0,x.jsx)("button",{className:g,onClick:function(){return a(t)},children:(0,x.jsx)(j.ZkW,{color:"white"})})]})]})},w="EditForm_form__OjMLb",Z="EditForm_input__x83JY",k="EditForm_button__Zt9F3";var A=function(e){var t=e.currentContact,n=e.setActive,i=(0,a.I0)(),o={name:"",number:""},h=(0,s.useState)(o),f=(0,r.Z)(h,2),v=f[0],b=f[1],_=function(e){var t=e.target,n=t.name,r=t.value;b((function(e){return(0,d.Z)((0,d.Z)({},e),{},(0,l.Z)({},n,r))}))},j=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(r){var a,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=v.name,s=v.number,e.prev=2,e.next=5,i((0,p.Tk)({currentContact:t,name:a,number:s})).unwrap();case 5:m.Notify.success("contact changed",{position:"center-top"}),n(!1),b(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),m.Notify.failure("something went wrong...",{position:"center-top"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,x.jsxs)("form",{onSubmit:j,className:w,children:[(0,x.jsx)("label",{children:(0,x.jsx)("input",{className:Z,onChange:_,type:"text",name:"name",defaultValue:null===t||void 0===t?void 0:t.name,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})}),(0,x.jsx)("label",{children:(0,x.jsx)("input",{className:Z,onChange:_,type:"tel",name:"number",defaultValue:null===t||void 0===t?void 0:t.number,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})}),(0,x.jsx)("button",{className:k,children:"Edit contact"})]})};var F=function(e){var t=e.active,n=e.setActive,r=e.children;return(0,x.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:(0,x.jsx)("div",{className:"modal_content",onClick:function(e){return e.stopPropagation()},children:r})})},z="ContactsList_list__Mqb2W",E=function(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],i=t[1],o=(0,s.useState)(null),c=(0,r.Z)(o,2),u=c[0],l=c[1],d=(0,a.I0)(),v=(0,a.v9)(h).items;(0,s.useEffect)((function(){d((0,p.yF)())}),[d]);var b=(0,a.v9)(f),_=function(){var e=b.request.toLowerCase().trim();return v.filter((function(t){return t.name.toLowerCase().includes(e)}))}(),j=function(e){i(!0),l(e)},C=function(e){d((0,p.GK)(e)),m.Notify.success("contact deleted",{position:"center-top"})};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ol",{className:z,children:_.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,x.jsx)(N,{handleEditContact:j,id:t,name:n,number:r,fnDelete:C},t)}))}),(0,x.jsx)(F,{active:n,setActive:i,children:(0,x.jsx)(A,{currentContact:u,setActive:i})})]})},q=n(8429),I="Filter_label__Pa-FW",S=function(){var e=(0,a.I0)(),t=(0,a.v9)(f);return(0,x.jsx)("label",{className:I,children:(0,x.jsx)("input",{type:"text",value:t.request,onChange:function(t){e((0,q.M)(t.currentTarget.value))},placeholder:"Find contacts by name"})})},L=n(4691),D=n(4164),J=document.querySelector("#modal-root"),M=function(){return(0,D.createPortal)((0,x.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:" rgba(0, 0, 0, 0.2)",zIndex:1200},children:(0,x.jsx)(L.s5,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"96",visible:!0})}),J)};function P(){var e=(0,s.useState)(!1),t=(0,r.Z)(e,2),n=t[0],c=t[1],u=(0,a.I0)(),l=(0,a.v9)(h),d=l.items,m=l.error,f=l.isLoading;return(0,s.useEffect)((function(){u((0,p.yF)())}),[u]),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{className:o.container,children:[(0,x.jsxs)("button",{className:o.button,onClick:function(){return c(!0)},children:[(0,x.jsx)(i.zOC,{size:"20px",style:{marginRight:"5px"}}),"Add"]}),d.length>0&&(0,x.jsx)(S,{})]}),d.length>0&&(0,x.jsx)(E,{}),(0,x.jsx)(F,{active:n,setActive:c,children:(0,x.jsx)(b,{setActive:c})}),f&&!m&&(0,x.jsx)(M,{})]})}}}]);
//# sourceMappingURL=650.295d0e54.chunk.js.map